<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="style.css" media="all" rel="stylesheet" type="text/css" />

    <title>Overview - Discrete Reactive Simulation Architecture</title>
</head>
<body>
<ol id="stoc">
    <li class="selected"><a href="index.html">Overview</a></li>
    <li><a href="action.html">Action</a></li>
    <li><a href="attribute.html">Attribute</a></li>
    <li><a href="engine_algorithm.html">Engine Algorithm</a></li>
    <li><a href="function.html">Function</a></li>
    <li><a href="pragma.html">Pragma</a></li>
    <li><a href="value_types.html">Value Types</a></li>
</ol>
<h1>Discrete Reactive Simulation Architecture</h1>



<h2>Overview</h2>

<p>
    At a high level, the simulation engine tracks the linking between
    <a href="attribute.html">values</a> on <a href="pragma.html">objects</a>,
    and triggers change signals when the values change.
    The changes result in either changing other values directly via
    linked <a href="function.html">lambda calculus functions</a> and
    bound <a href="action.html">actions</a> that change the state of the
    system.
</p>
<p>
    This document defines the very low level engine design for the simulation
    engine.  A language will need to be built on top of it to easily express
    higher level concepts.
</p>


<h2>About</h2>

<p>
    This architecture describes the details behind the construction of a
    simulation environment that allows for <em>discrete</em> iteration of a
    <em>reactive</em> system.
</p>
<p>
    The system is <em>discrete</em> because it executes a single pass of
    processing signals as a batch as a cycle.  This allows for easier debugging
    of the operation of the system, and a higher level of determanism (but does
    not imply a fully determanistic system).
    A <em>continuous</em> system, on the other hand, processes the signals
    as they occur, without an obvious subdivision of time - that is, the system
    can process new signals between discrete time increments.
</p>
<p>
    The system is <em>reactive</em> because the system only allows communication
    between its parts through signals generated by changes to the system state.
    Also, it hides details on
</p>
<p>
    The system is partially <em>functional</em> in two ways.  First, the basic
    construction of the system involves either a function or an action.
    Functions at as a functional language by hiding whether a referenced value
    is a hard value or a function based on other functions or values.  Second,
    the action operates on a <a href="pragma.html#commit">weak copy</a> of the
    system, allowing them to run in parallel, and all changes are committed
    at the end of the processing.
</p>
<p>
    TODO the above statement needs to be refined.
</p>
<p>
    Also, the entire set of documents needs to rely more on the formal
    definitions of computation systems.  For example, the "functions" more
    closely resemble futures
    (http://en.wikipedia.org/wiki/Future_%28programming%29) with
    hard values being "concurrent logic variables" that support unifications
    (http://en.wikipedia.org/wiki/Unification_%28computing%29).  Note that
    the futures here must never be lazily evaluated due to the need for
    signaling based on evaluated value changes.
</p>
<p>
    This system matches quite closely to an Actor model
    (http://en.wikipedia.org/wiki/Actor_model).
    The Pragmas do not meet the
    requirements for an Actor system, because they themselves do not contain
    the logic, however it does have many similarities.
</p>


<h2>General Details</h2>


<h3>Errors</h3>

<p>
    The system only has soft errors for a configured system, meaning that any
    error encountered creates appropriate logging information for the developer,
    but the simulation itself does not stop.
</p>
<p>
    Hard errors which stop the system happen outside the runtime.  These include
    checking consistency of a system (all the types match up).
</p>



<h2>Under Discussion</h2>
<p>
    The following details are still being worked out.
</p>


<h3>Commit Conflicts</h3>
<p>
    The "commit join" function for Attributes has a solid plan.  The function
    accepts 3 arguments: attribute handle, the original
    value, and a lazy list containing the child context values as they are
    computed.  However, there's a hard problem around
    handling conflicts in removed / added / etc Links.  Newly created Pragma are
    handled gracefully because they are assigned a globally unique ID.  Deleted
    Pragma can cause a conflict, though.  Unfortunately, a delete is hard to
    manage because sets cannot contain null values.
</p>
<p>
    What if we think of Links as just another Attribute?  It will have a
    special nomenclature for describing the name so that they don't conflict
    with any Attribute ID.  In this case, a commit join function can be given
    to a link (remember - adding and removing links is the exact same thing
    as changing a link).
</p>
<p>
    The "commit join" function may need some fine tuning.  There could be
    cases (TODO discover some so that they can be analyzed) where a function
    may need external data to make a correct decision.  For now, though, I
    have a strong suspicion that it can be alleviated through well defined
    actions.
</p>


<h3>Action Scope</h3>
<p>
    The range of values available to an Action during its execution is currently
    not well defined.  The running concept is "everything", but it usually should
    require inputs, or at the very least an event source.  Some signals may
    pertain to multiple Pragma, so encompassing these differences in needs is
    tricky.
</p>
<p>
    If these are more limited than "everything", than true parallel computations
    can be made more feasible, because only the affected state need be
    sent to other computing memory, changing subtly the mechanics of the
    "weak copy".  This model doesn't provide for Locality, which introduces
    this issue.
</p>

</body>
</html>
